# Diana RabbitMQ Configuration
# Event-driven messaging configuration for ZmartBot platform

# Listeners
listeners.tcp.default = 5672
management.tcp.port = 15672

# Authentication
default_user = zmart_user
default_pass = zmart_rabbitmq_password
default_vhost = zmart_vhost

# Memory and disk limits
vm_memory_high_watermark.relative = 0.6
disk_free_limit.relative = 1.0

# Clustering and high availability
cluster_formation.peer_discovery_backend = classic_config
cluster_formation.classic_config.nodes.1 = rabbit@diana-rabbitmq

# Message store
msg_store_file_size_limit = 16777216

# Queue length limits
default_user_tags.administrator = true

# Consumer timeout
consumer_timeout = 3600000

# Heartbeat
heartbeat = 60

# Connection limits
connection_max = 1000
channel_max = 2048

# Logging
log.console = true
log.console.level = info
log.file = /var/log/rabbitmq/rabbitmq.log
log.file.level = info

# TLS/SSL (disabled for internal use)
listeners.ssl = none

# Management plugin
management.rates_mode = basic
management.sample_retention_policies.global.minute = 5
management.sample_retention_policies.global.hour = 60
management.sample_retention_policies.global.day = 1440

# Federation and shovel
loopback_users = none

# Memory calculation strategy
vm_memory_calculation_strategy = rss

# Feature flags
feature_flags_file = /var/lib/rabbitmq/feature_flags