<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test v5.5.0 Onboarding</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .slide-test {
            margin: 10px 0;
            padding: 10px;
            border-left: 3px solid #667eea;
        }
        .success { color: #10b981; font-weight: bold; }
        .error { color: #ef4444; font-weight: bold; }
        .info { color: #3b82f6; }
        button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5a67d8;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ ZmartyBrain v5.5.0 Testing Suite</h1>

        <div class="test-section">
            <h2>üìã Test Checklist</h2>
            <div id="testResults"></div>
        </div>

        <div class="test-section">
            <h2>üñºÔ∏è Live Preview</h2>
            <iframe id="testFrame" src="index.html"></iframe>
        </div>

        <div class="test-section">
            <h2>üéÆ Navigation Tests</h2>
            <button onclick="testNavigation()">Test All Navigation</button>
            <button onclick="testSlide(1)">Go to Slide 1</button>
            <button onclick="testSlide(2)">Go to Slide 2</button>
            <button onclick="testSlide(3)">Go to Slide 3</button>
            <button onclick="testSlide(4)">Go to Slide 4</button>
            <button onclick="testSlide(5)">Go to Slide 5</button>
            <div id="navResults"></div>
        </div>
    </div>

    <script>
        const tests = [
            { id: 'slide1', name: 'Slide 1: Welcome', checks: [
                'Welcome to Zmarty title',
                'Smart AI feature card',
                'Liquidation Clusters feature',
                'Risk Metrics feature',
                'Bank Secure feature',
                '95% Win Rate indicator',
                '100+ Exchanges indicator',
                'Start Free Trial button'
            ]},
            { id: 'slide2', name: 'Slide 2: AI Models', checks: [
                'Claude (Anthropic)',
                'GPT-4 (OpenAI)',
                'Gemini (Google)',
                'Grok (xAI)'
            ]},
            { id: 'slide3', name: 'Slide 3: Exchanges', checks: [
                'Binance',
                'Coinbase',
                'Kraken',
                'Bybit',
                'KuCoin',
                'OKX',
                '+ 94 more exchanges'
            ]},
            { id: 'slide4', name: 'Slide 4: Risk Management', checks: [
                'Real-time Liquidation Clusters',
                '20+ Risk Metrics',
                'Win Rate Optimization',
                'Whale Alerts & Smart Money'
            ]}
        ];

        function runTests() {
            const frame = document.getElementById('testFrame');
            const doc = frame.contentDocument || frame.contentWindow.document;
            let results = '<h3>Test Results:</h3>';

            tests.forEach(test => {
                results += `<div class="slide-test">`;
                results += `<h4>${test.name}</h4>`;
                results += '<ul>';
                test.checks.forEach(check => {
                    const found = doc.body.innerHTML.includes(check);
                    results += `<li class="${found ? 'success' : 'error'}">`;
                    results += `${found ? '‚úÖ' : '‚ùå'} ${check}`;
                    results += '</li>';
                });
                results += '</ul></div>';
            });

            document.getElementById('testResults').innerHTML = results;
        }

        function testSlide(num) {
            const frame = document.getElementById('testFrame');
            const win = frame.contentWindow;

            // Simulate keyboard press
            const event = new win.KeyboardEvent('keydown', { key: num.toString() });
            win.document.dispatchEvent(event);

            setTimeout(() => {
                const doc = frame.contentDocument;
                const activeSlide = doc.querySelector('.step.active');
                const slideId = activeSlide ? activeSlide.id : 'unknown';

                document.getElementById('navResults').innerHTML =
                    `<p class="info">Navigated to: ${slideId}</p>`;
            }, 500);
        }

        function testNavigation() {
            const frame = document.getElementById('testFrame');
            const doc = frame.contentDocument;
            let results = '<h3>Navigation Test:</h3><ul>';

            // Check for navigation elements
            const hasArrows = doc.querySelector('.nav-arrow-left') && doc.querySelector('.nav-arrow-right');
            const hasProgress = doc.querySelector('.progress-bar');
            const hasSteps = doc.querySelectorAll('.step').length;

            results += `<li class="${hasArrows ? 'success' : 'error'}">`;
            results += `${hasArrows ? '‚úÖ' : '‚ùå'} Arrow navigation present</li>`;

            results += `<li class="${hasProgress ? 'success' : 'error'}">`;
            results += `${hasProgress ? '‚úÖ' : '‚ùå'} Progress bar present</li>`;

            results += `<li class="info">üìä Total slides found: ${hasSteps}</li>`;
            results += '</ul>';

            document.getElementById('navResults').innerHTML = results;
        }

        // Run tests after iframe loads
        window.onload = function() {
            const frame = document.getElementById('testFrame');
            frame.onload = function() {
                setTimeout(runTests, 1000);
            };
        };
    </script>
</body>
</html>