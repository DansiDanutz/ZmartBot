#!/bin/bash

# ZmartBot Auto-Start Script for Cursor/VS Code
# This script runs automatically when the workspace opens

echo "=========================================="
echo "ðŸš€ ZmartBot Auto-Start Initializing..."
echo "=========================================="

# Set working directory
cd /Users/dansidanutz/Desktop/ZmartBot/zmart-api

# 1. Memory Optimization
echo ""
echo "ðŸ§¹ Step 1: Optimizing Memory..."
echo "------------------------------------------"
./optimize_memory.sh

# 2. Start Main API
echo ""
echo "ðŸ”¥ Step 2: Starting Main API Server..."
echo "------------------------------------------"
./start_main_api.sh &

# Wait for API to start
sleep 3

# 3. Health Check
echo ""
echo "ðŸ“Š Step 3: Running Health Check..."
echo "------------------------------------------"
python3 system_health_check.py

echo ""
echo "=========================================="
echo "âœ… ZmartBot Auto-Start Complete!"
echo "=========================================="
echo ""
echo "ðŸ“Œ Available Commands:"
echo "  â€¢ Health Check: python3 system_health_check.py"
echo "  â€¢ Optimize Memory: ./optimize_memory.sh"
echo "  â€¢ API Status: curl http://localhost:8000/health"
echo ""
echo "ðŸ“Š Services Running:"
echo "  â€¢ Main API: http://localhost:8000"
echo "  â€¢ API Keys Manager: http://localhost:8006"
echo ""