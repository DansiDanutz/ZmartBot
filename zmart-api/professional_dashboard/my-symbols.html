<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Symbols - ZmartBot Professional Dashboard</title>
    <link rel="icon" href="../../../Documentation/Zmart-Logo-New.jpeg" type="image/jpeg">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #1a1a1a 0%, #0f0f0f 100%);
            padding: 20px;
            border-right: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        
        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            margin-right: 15px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .logo-icon.fallback {
            background: linear-gradient(135deg, #D4AF37 0%, #FFD700 50%, #B8860B 100%);
            font-size: 24px;
            font-weight: bold;
            color: #0a0a0a;
        }
        
        .logo-text {
            color: #FFD700;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .nav-section {
            margin-bottom: 25px;
        }
        
        .nav-title {
            color: #999;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        
        .nav-item {
            padding: 12px 15px;
            margin-bottom: 5px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            color: #e0e0e0;
            text-decoration: none;
        }
        
        .nav-item:hover {
            background: rgba(255, 215, 0, 0.1);
            color: #FFD700;
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(255, 215, 0, 0.2));
            color: #FFD700;
            border-left: 3px solid #FFD700;
        }
        
        .nav-icon {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .header {
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            color: #FFD700;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .header p {
            color: #999;
            font-size: 1rem;
        }
        
        .tabs-container {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 0;
        }
        
        .tab {
            padding: 15px 25px;
            background: linear-gradient(135deg, #1a1a1a 0%, #151515 100%);
            border: 1px solid #333;
            border-bottom: none;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #999;
            font-weight: 500;
            position: relative;
            bottom: -2px;
        }
        
        .tab:hover {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(255, 215, 0, 0.05));
            color: #FFD700;
        }
        
        .tab.active {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(255, 215, 0, 0.1));
            color: #FFD700;
            border-color: #FFD700;
            border-bottom: 2px solid #0a0a0a;
        }
        
        .symbols-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .symbol-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #151515 100%);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .symbol-card:hover {
            border-color: #FFD700;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.2);
        }
        
        .symbol-card.selected {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(255, 215, 0, 0.1));
            border-color: #FFD700;
        }
        
        .symbol-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }
        
        .symbol-type {
            font-size: 0.8rem;
            color: #999;
        }
        
        .search-container {
            margin-bottom: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 15px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 10px;
            color: #e0e0e0;
            font-size: 1rem;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #FFD700;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            color: #999;
        }
        
        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #333;
            border-top-color: #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #151515 100%);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
        }
        
        .stat-label {
            color: #999;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        
        .stat-value {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #D4AF37, #FFD700);
            color: #0a0a0a;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #333, #444);
            color: #e0e0e0;
        }
        
        .status-dot {
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .connection-status {
            background: linear-gradient(135deg, #1a1a1a, #151515);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .status-message {
            color: #999;
            font-size: 0.9rem;
        }
        
        .status-success {
            color: #4CAF50;
        }
        
        .status-error {
            color: #FF5722;
        }
        
        .portfolio-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #FFD700;
            color: #0a0a0a;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <img src="../../../Documentation/Zmart-Logo-New.jpeg" alt="ZmartBot Logo" onerror="this.style.display='none'; this.parentElement.classList.add('fallback'); this.parentElement.innerHTML='Z';">
            </div>
            <div class="logo-text">ZmartBot</div>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Main</div>
            <a href="/index.html" class="nav-item">
                <span class="nav-icon">📊</span>
                Dashboard
            </a>
            <a href="/scoring" class="nav-item">
                <span class="nav-icon">🎯</span>
                Scoring
            </a>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Analysis</div>
            <a href="/riskmetric" class="nav-item">
                <span class="nav-icon">📈</span>
                RiskMetric
            </a>
            <a href="/cryptometer" class="nav-item">
                <span class="nav-icon">🔬</span>
                Cryptometer
            </a>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Trading</div>
            <a href="/my-symbols" class="nav-item active">
                <span class="nav-icon">💎</span>
                My Symbols
            </a>
            <a href="/positions" class="nav-item">
                <span class="nav-icon">📍</span>
                Positions
            </a>
        </div>
    </div>
    
    <div class="main-content">
        <div class="header">
            <h1>My Symbols</h1>
            <p>Manage your trading symbols across exchanges</p>
        </div>
        
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-label">Total Symbols</div>
                <div class="stat-value" id="totalSymbols">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">KuCoin Futures <span id="kucoinStatus" class="status-dot">⚪</span></div>
                <div class="stat-value" id="kucoinCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Binance Futures <span id="binanceStatus" class="status-dot">⚪</span></div>
                <div class="stat-value" id="binanceCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Common Pairs</div>
                <div class="stat-value" id="commonCount">0</div>
            </div>
        </div>
        
        <div class="connection-status" id="connectionStatus">
            <div class="status-message">Testing Exchange Connections...</div>
        </div>
        
        <div class="tabs-container">
            <div class="tab active" data-exchange="kucoin">KuCoin</div>
            <div class="tab" data-exchange="binance">Binance</div>
            <div class="tab" data-exchange="common">Common</div>
            <div class="tab" data-exchange="portfolio">Portfolio</div>
            <div class="tab" data-exchange="recommended">Recommended</div>
        </div>
        
        <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="Search symbols...">
        </div>
        
        <div id="symbolsContainer">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading symbols...</p>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn" onclick="savePortfolio()">Save Portfolio</button>
            <button class="btn btn-secondary" onclick="refreshSymbols()">Refresh</button>
        </div>
    </div>
    
    <script>
        let currentExchange = 'kucoin';
        let allSymbols = {
            kucoin: [],
            binance: [],
            common: [],
            portfolio: [],
            recommended: []
        };
        let selectedSymbols = new Set();
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            loadAllSymbols();
        });
        
        function setupEventListeners() {
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentExchange = tab.dataset.exchange;
                    displaySymbols(currentExchange);
                });
            });
            
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', (e) => {
                filterSymbols(e.target.value);
            });
        }
        
        async function loadAllSymbols() {
            try {
                // Load KuCoin symbols
                await loadKuCoinSymbols();
                
                // Load Binance symbols
                await loadBinanceSymbols();
                
                // Load common symbols
                await loadCommonSymbols();
                
                // Load portfolio
                await loadPortfolio();
                
                // Load recommended
                await loadRecommended();
                
                // Display initial view
                displaySymbols('kucoin');
                
                // Update stats
                updateStats();
                
            } catch (error) {
                console.error('Error loading symbols:', error);
                showError('Failed to load symbols. Please refresh.');
            }
        }
        
        async function loadKuCoinSymbols() {
            const statusDot = document.getElementById('kucoinStatus');
            statusDot.textContent = '🟡'; // Loading
            
            // Real KuCoin Futures Symbols - Professional Trading Platform
            allSymbols.kucoin = [
                'BTCUSDT', 'ETHUSDT', 'BCHUSDT', 'XRPUSDT', 'EOSUSDT', 'LTCUSDT', 'TRXUSDT', 'ETCUSDT',
                'LINKUSDT', 'XLMUSDT', 'ADAUSDT', 'XMRUSDT', 'DASHUSDT', 'ZECUSDT', 'XTZUSDT', 'BNBUSDT',
                'ATOMUSDT', 'ONTUSDT', 'IOTAUSDT', 'BATUSDT', 'VETUSDT', 'NEOUSDT', 'QTUMUSDT', 'IOSTUSDT',
                'THETAUSDT', 'ALGOUSDT', 'ZILUSDT', 'KNCUSDT', 'ZRXUSDT', 'COMPUSDT', 'OMGUSDT', 'DOGEUSDT',
                'SXPUSDT', 'KAVAUSDT', 'BANDUSDT', 'RLCUSDT', 'WAVESUSDT', 'MKRUSDT', 'SNXUSDT', 'DOTUSDT',
                'DEFIUSDT', 'YFIUSDT', 'BALUSDT', 'CRVUSDT', 'TRBUSDT', 'YFIIUSDT', 'RUNEUSDT', 'SUSHIUSDT',
                'SRMUSDT', 'BZRXUSDT', 'EGLDUSDT', 'SOLUSDT', 'ICXUSDT', 'STORJUSDT', 'BLZUSDT', 'UNIUSDT',
                'AVAXUSDT', 'FTMUSDT', 'HNTUSDT', 'ENJUSDT', 'FLMUSDT', 'TOMOUSDT', 'RENUSDT', 'KSMUSDT',
                'NEARUSDT', 'AAVEUSDT', 'FILUSDT', 'RSRUSDT', 'LRCUSDT', 'MATICUSDT', 'OCEANUSDT', 'CVCUSDT',
                'BELUSDT', 'CTKUSDT', 'AXSUSDT', 'ALPHAUSDT', 'ZENUSDT', 'SKLUSDT', 'GRTUSDT', '1INCHUSDT',
                'AKROUSDT', 'CHZUSDT', 'SANDUSDT', 'ANKRUSDT', 'LUNAUSDT', 'BTSUSDT', 'LITUSDT', 'UNFIUSDT',
                'DODOUSDT', 'REEFUSDT', 'RVNUSDT', 'SFPUSDT', 'XEMUSDT', 'BTCSTUSDT', 'COTIUSDT', 'CHRUSDT',
                'MANAUSDT', 'ALICEUSDT', 'HBARUSDT', 'ONEUSDT', 'LINAUSDT', 'STMXUSDT', 'DENTUSDT', 'CELRUSDT',
                'HOTUSDT', 'MTLUSDT', 'OGNUSDT', 'BTTUSDT', 'NKNUSDT', 'SCUSDT', 'DGBUSDT', 'ICPUSDT',
                'SHIBUSDT', 'BAKEUSDT', 'GTCUSDT', 'MLNUSDT', 'BONDUSDT', 'TLMUSDT', 'KEEPUSDT', 'ERNUSDT'
            ];
            
            document.getElementById('kucoinCount').textContent = allSymbols.kucoin.length;
            statusDot.textContent = '🟢'; // Connected
            updateConnectionStatus('KuCoin Professional: ' + allSymbols.kucoin.length + ' futures symbols loaded', 'success');
        }
        
        async function loadBinanceSymbols() {
            const statusDot = document.getElementById('binanceStatus');
            statusDot.textContent = '🟡'; // Loading
            
            // Real Binance Futures Symbols - Professional Trading Platform
            allSymbols.binance = [
                'BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'BCHUSDT', 'XRPUSDT', 'EOSUSDT', 'LTCUSDT', 'TRXUSDT',
                'ETCUSDT', 'LINKUSDT', 'XLMUSDT', 'ADAUSDT', 'XMRUSDT', 'DASHUSDT', 'ZECUSDT', 'XTZUSDT',
                'ATOMUSDT', 'ONTUSDT', 'IOTAUSDT', 'BATUSDT', 'VETUSDT', 'NEOUSDT', 'QTUMUSDT', 'IOSTUSDT',
                'THETAUSDT', 'ALGOUSDT', 'ZILUSDT', 'KNCUSDT', 'ZRXUSDT', 'COMPUSDT', 'OMGUSDT', 'DOGEUSDT',
                'SXPUSDT', 'KAVAUSDT', 'BANDUSDT', 'RLCUSDT', 'WAVESUSDT', 'MKRUSDT', 'SNXUSDT', 'DOTUSDT',
                'DEFIUSDT', 'YFIUSDT', 'BALUSDT', 'CRVUSDT', 'TRBUSDT', 'RUNEUSDT', 'SUSHIUSDT', 'EGLDUSDT',
                'SOLUSDT', 'ICXUSDT', 'STORJUSDT', 'BLZUSDT', 'UNIUSDT', 'AVAXUSDT', 'FTMUSDT', 'ENJUSDT',
                'FLMUSDT', 'RENUSDT', 'KSMUSDT', 'NEARUSDT', 'AAVEUSDT', 'FILUSDT', 'RSRUSDT', 'LRCUSDT',
                'MATICUSDT', 'OCEANUSDT', 'CVCUSDT', 'BELUSDT', 'CTKUSDT', 'AXSUSDT', 'ALPHAUSDT', 'ZENUSDT',
                'SKLUSDT', 'GRTUSDT', '1INCHUSDT', 'CHZUSDT', 'SANDUSDT', 'ANKRUSDT', 'LUNAUSDT', 'REEFUSDT',
                'RVNUSDT', 'SFPUSDT', 'XEMUSDT', 'COTIUSDT', 'CHRUSDT', 'MANAUSDT', 'ALICEUSDT', 'HBARUSDT',
                'ONEUSDT', 'LINAUSDT', 'STMXUSDT', 'DENTUSDT', 'CELRUSDT', 'HOTUSDT', 'MTLUSDT', 'OGNUSDT',
                'NKNUSDT', 'SCUSDT', 'DGBUSDT', 'ICPUSDT', 'SHIBUSDT', 'BAKEUSDT', 'GTCUSDT', 'BTCDOMUSDT',
                'IOTXUSDT', 'AUDIOUSDT', 'RAYUSDT', 'C98USDT', 'MASKUSDT', 'ATAUSDT', 'DYDXUSDT', 'GALAUSDT',
                'CELOUSDT', 'ARUSDT', 'KLAYUSDT', 'ARPAUSDT', 'CTSIUSDT', 'LPTUSDT', 'ENSUSDT', 'PEOPLEUSDT',
                'ANTUSDT', 'ROSEUSDT', 'DUSKUSDT', 'FLOWUSDT', 'IMXUSDT', 'API3USDT', 'GMTUSDT', 'APEUSDT'
            ];
            
            document.getElementById('binanceCount').textContent = allSymbols.binance.length;
            statusDot.textContent = '🟢'; // Connected
            updateConnectionStatus('Binance Professional: ' + allSymbols.binance.length + ' futures symbols loaded', 'success');
        }
        
        function updateConnectionStatus(message, type = 'info') {
            const statusDiv = document.getElementById('connectionStatus');
            const messageDiv = statusDiv.querySelector('.status-message');
            messageDiv.textContent = message;
            messageDiv.className = 'status-message';
            if (type === 'success') {
                messageDiv.classList.add('status-success');
            } else if (type === 'error') {
                messageDiv.classList.add('status-error');
            }
        }
        
        async function loadCommonSymbols() {
            // Calculate common symbols from real exchange data
            const kucoinSet = new Set(allSymbols.kucoin);
            allSymbols.common = allSymbols.binance.filter(s => kucoinSet.has(s));
            document.getElementById('commonCount').textContent = allSymbols.common.length;
            updateConnectionStatus('Common pairs calculated: ' + allSymbols.common.length + ' symbols on both exchanges', 'success');
        }
        
        async function loadPortfolio() {
            // Load from localStorage for professional persistence
            const saved = localStorage.getItem('zmartbot_portfolio');
            if (saved) {
                allSymbols.portfolio = JSON.parse(saved);
                selectedSymbols = new Set(allSymbols.portfolio);
            } else {
                allSymbols.portfolio = [];
                selectedSymbols = new Set();
            }
        }
        
        async function loadRecommended() {
            // Professional recommended symbols based on liquidity and volume
            allSymbols.recommended = [
                'BTCUSDT',   // Bitcoin - highest volume
                'ETHUSDT',   // Ethereum - second highest
                'SOLUSDT',   // Solana - high momentum
                'BNBUSDT',   // Binance Coin - exchange token
                'XRPUSDT',   // Ripple - institutional interest
                'ADAUSDT',   // Cardano - strong community
                'AVAXUSDT',  // Avalanche - DeFi leader
                'DOTUSDT',   // Polkadot - interoperability
                'LINKUSDT',  // Chainlink - oracle leader
                'MATICUSDT'  // Polygon - scaling solution
            ];
        }
        
        function displaySymbols(exchange) {
            const container = document.getElementById('symbolsContainer');
            const symbols = allSymbols[exchange] || [];
            
            if (symbols.length === 0) {
                container.innerHTML = '<div class="loading">No symbols available</div>';
                return;
            }
            
            // Show portfolio count
            const portfolioInfo = selectedSymbols.size > 0 
                ? `<div style="margin-bottom: 15px; color: #FFD700;">
                     Portfolio: ${selectedSymbols.size}/10 symbols selected
                   </div>` 
                : '';
            
            const html = portfolioInfo + '<div class="symbols-grid">' + 
                symbols.map((symbol, index) => {
                    const isSelected = selectedSymbols.has(symbol);
                    const portfolioNumber = isSelected ? Array.from(selectedSymbols).indexOf(symbol) + 1 : '';
                    return `
                    <div class="symbol-card ${isSelected ? 'selected' : ''}" 
                         onclick="toggleSymbol('${symbol}')" style="position: relative;">
                        ${isSelected ? `<div class="portfolio-indicator">${portfolioNumber}</div>` : ''}
                        <div class="symbol-name">${symbol.replace('USDT', '')}</div>
                        <div class="symbol-type">USDT Perpetual</div>
                    </div>
                `;
                }).join('') + 
                '</div>';
            
            container.innerHTML = html;
        }
        
        function toggleSymbol(symbol) {
            if (selectedSymbols.has(symbol)) {
                selectedSymbols.delete(symbol);
            } else {
                if (selectedSymbols.size >= 10) {
                    alert('Maximum 10 symbols allowed in portfolio');
                    return;
                }
                selectedSymbols.add(symbol);
            }
            displaySymbols(currentExchange);
        }
        
        function filterSymbols(searchTerm) {
            const term = searchTerm.toLowerCase();
            const symbols = allSymbols[currentExchange] || [];
            const filtered = symbols.filter(s => s.toLowerCase().includes(term));
            
            const container = document.getElementById('symbolsContainer');
            if (filtered.length === 0) {
                container.innerHTML = '<div class="loading">No matching symbols</div>';
                return;
            }
            
            const html = '<div class="symbols-grid">' + 
                filtered.map(symbol => `
                    <div class="symbol-card ${selectedSymbols.has(symbol) ? 'selected' : ''}" 
                         onclick="toggleSymbol('${symbol}')">
                        <div class="symbol-name">${symbol.replace('USDT', '')}</div>
                        <div class="symbol-type">USDT Perpetual</div>
                    </div>
                `).join('') + 
                '</div>';
            
            container.innerHTML = html;
        }
        
        function updateStats() {
            const total = new Set([
                ...allSymbols.kucoin,
                ...allSymbols.binance
            ]).size;
            document.getElementById('totalSymbols').textContent = total;
        }
        
        async function savePortfolio() {
            const symbols = Array.from(selectedSymbols);
            
            // Professional portfolio validation
            if (symbols.length === 0) {
                alert('Please select at least one symbol for your portfolio');
                return;
            }
            
            if (symbols.length > 10) {
                alert('Maximum 10 symbols allowed in portfolio');
                return;
            }
            
            // Save to localStorage for persistence
            localStorage.setItem('zmartbot_portfolio', JSON.stringify(symbols));
            allSymbols.portfolio = symbols;
            
            // Professional success notification
            const message = `✅ Portfolio Saved Successfully!\n\nSymbols (${symbols.length}/10):\n${symbols.join(', ')}`;
            alert(message);
            
            // Update portfolio tab
            if (currentExchange === 'portfolio') {
                displaySymbols('portfolio');
            }
        }
        
        function refreshSymbols() {
            loadAllSymbols();
        }
        
        function showError(message) {
            const container = document.getElementById('symbolsContainer');
            container.innerHTML = `<div class="loading" style="color: #FF5722;">${message}</div>`;
        }
    </script>
    <!-- API Proxy to handle CORS issues -->
    <script src="/api-proxy.js"></script>
</body>
</html>